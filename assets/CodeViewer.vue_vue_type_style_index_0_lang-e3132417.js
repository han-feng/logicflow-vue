import{E as c,y as ae,G as K,r as O,H as de,J as C,K as Re,N as Fe,O as Ve,P as Je,Q as Xe,A as Ke,R as W,l as qe,d as et,S as q,T as tt,U as Mt,o as P,c as ee,w as S,a as $,k as it,F as nt,V as ot,u as te,e as Me,t as st,W as rt,X as ut,Y as Nt,Z as ct}from"./vendor-d3e2096c.js";var lt=Object.defineProperty,at=(t,e,M)=>e in t?lt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:M}):t[e]=M,ge=(t,e,M)=>(at(t,typeof e!="symbol"?e+"":e,M),M),G=null;function dt(t){return G||(G=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)}).bind(window)),G(t)}var Z=null;function gt(t){Z||(Z=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window)),Z(t)}function jt(t){var e=document.createElement("style");return e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),(document.querySelector("head")||document.body).appendChild(e),e}function f(t,e){e===void 0&&(e={});var M=document.createElement(t);return Object.keys(e).forEach(function(n){M[n]=e[n]}),M}function je(t,e,M){var n=window.getComputedStyle(t,M||null)||{display:"none"};return n[e]}function H(t){if(!document.documentElement.contains(t))return{detached:!0,rendered:!1};for(var e=t;e!==document;){if(je(e,"display")==="none")return{detached:!1,rendered:!1};e=e.parentNode}return{detached:!1,rendered:!0}}var yt='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',ie=0;function Lt(t,e){t.__resize_mutation_handler__||(t.__resize_mutation_handler__=Dt.bind(t));var M=t.__resize_listeners__;if(!M){if(t.__resize_listeners__=[],window.ResizeObserver){var n=t.offsetWidth,i=t.offsetHeight,o=new ResizeObserver(function(){!t.__resize_observer_triggered__&&(t.__resize_observer_triggered__=!0,t.offsetWidth===n&&t.offsetHeight===i)||b(t)}),s=H(t),r=s.detached,u=s.rendered;t.__resize_observer_triggered__=r===!1&&u===!1,t.__resize_observer__=o,o.observe(t)}else if(t.attachEvent&&t.addEventListener)t.__resize_legacy_resize_handler__=function(){b(t)},t.attachEvent("onresize",t.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",t.__resize_mutation_handler__);else if(ie||jt(yt),It(t),t.__resize_rendered__=H(t).rendered,window.MutationObserver){var N=new MutationObserver(t.__resize_mutation_handler__);N.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),t.__resize_mutation_observer__=N}}t.__resize_listeners__.push(e),ie++}function Tt(t){var e=t.__resize_last__,M=e.width,n=e.height,i=t.offsetWidth,o=t.offsetHeight;return i!==M||o!==n?{width:i,height:o}:null}function Dt(){var t=H(this),e=t.rendered,M=t.detached;e!==this.__resize_rendered__&&(!M&&this.__resize_triggers__&&(R(this),this.addEventListener("scroll",ye,!0)),this.__resize_rendered__=e,b(this))}function ye(){var t=this;R(this),this.__resize_raf__&&gt(this.__resize_raf__),this.__resize_raf__=dt(function(){var e=Tt(t);e&&(t.__resize_last__=e,b(t))})}function b(t){!t||!t.__resize_listeners__||t.__resize_listeners__.forEach(function(e){e.call(t,t)})}function It(t){var e=je(t,"position");(!e||e==="static")&&(t.style.position="relative"),t.__resize_old_position__=e,t.__resize_last__={};var M=f("div",{className:"resize-triggers"}),n=f("div",{className:"resize-expand-trigger"}),i=f("div"),o=f("div",{className:"resize-contract-trigger"});n.appendChild(i),M.appendChild(n),M.appendChild(o),t.appendChild(M),t.__resize_triggers__={triggers:M,expand:n,expandChild:i,contract:o},R(t),t.addEventListener("scroll",ye,!0),t.__resize_last__={width:t.offsetWidth,height:t.offsetHeight}}function R(t){var e=t.__resize_triggers__,M=e.expand,n=e.expandChild,i=e.contract,o=i.scrollWidth,s=i.scrollHeight,r=M.offsetWidth,u=M.offsetHeight,N=M.scrollWidth,l=M.scrollHeight;i.scrollLeft=o,i.scrollTop=s,n.style.width=r+1+"px",n.style.height=u+1+"px",M.scrollLeft=N,M.scrollTop=l}let Le=class extends c.TextNodeModel{setAttributes(){this.visible=!1}};ge(Le,"extendKey","ProcessNodeModel");let Te=class extends c.TextNode{};ge(Te,"extendKey","ProcessNode");const xt={type:"_ProcessNode_",view:Te,model:Le},zt="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0icHJlZml4X19wcmVmaXhfX2ljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIj48cGF0aCBkPSJNNTk4LjE4NyA5NTUuNzMzaC0uNDQ0YTE3LjExOCAxNy4xMTggMCAwMS0xNS4yNC0xMC4zMjVMNDc2Ljg2IDY5OS43MzNoLTUwLjE5M2ExNy4wNjcgMTcuMDY3IDAgMTEwLTM0LjEzM2gzNS41MzJMMzI1LjY2NiAzNDguMDc1YTE3LjA2NyAxNy4wNjcgMCAwMTIyLjQwOS0yMi40MDlMNjY1LjYgNDYyLjJ2LTM1LjUzMmExNy4wNjcgMTcuMDY3IDAgMTEzNC4xMzMgMHY1MC4xNTlsMjQ1LjY0IDEwNC44MDZhMTcuMDg0IDE3LjA4NCAwIDAxLjkyMiAzMC45NzZMNzk2LjgxIDY4Ny4zNmwxNTMuOTI0IDE1My45MjRhMTcuMDUgMTcuMDUgMCAwMTAgMjQuMTMzTDg2NS40IDk1MC43NWExNy4wNSAxNy4wNSAwIDAxLTI0LjEzMiAwTDY4Ny40MTEgNzk2Ljg5NGwtNzMuOTMzIDE0OS4zNWExNy4wNjcgMTcuMDY3IDAgMDEtMTUuMjkxIDkuNDl6bTg0LjQ4LTIwNC44YTE3LjA2NyAxNy4wNjcgMCAwMTEyLjA2NiA1bDE1OC42IDE1OC42MDEgNjEuMjAxLTYxLjItMTU4LjYtMTU4LjYwMWExNy4wMTUgMTcuMDE1IDAgMDE0LjQzNy0yNy4zMjRsMTM3LjY3Ny02OC44My0yMjIuMDM3LTk0LjczNy0uMTAzLS4wMzQtMzAxLjk3Ny0xMjkuODc3IDEyOS44NiAzMDEuOTk0LjAzNC4wNjkgOTUuNDU0IDIyMi4wMiA2OC4wOTYtMTM3LjU3NWExNy4wNjcgMTcuMDY3IDAgMDExNS4yOTItOS41MDZ6bS0zNDEuMzM0LTUxLjJIMjU2YTE3LjA2NyAxNy4wNjcgMCAxMTAtMzQuMTMzaDg1LjMzM2ExNy4wNjcgMTcuMDY3IDAgMTEwIDM0LjEzM3ptLTE3MC42NjYgMEg4NS4zMzNhMTcuMDY3IDE3LjA2NyAwIDAxLTE3LjA2Ni0xNy4wNjZ2LTg1LjMzNGExNy4wNjcgMTcuMDY3IDAgMTEzNC4xMzMgMFY2NjUuNmg2OC4yNjdhMTcuMDY3IDE3LjA2NyAwIDExMCAzNC4xMzN6TTg1LjMzMyA1MjkuMDY3QTE3LjA2NyAxNy4wNjcgMCAwMTY4LjI2NyA1MTJ2LTg1LjMzM2ExNy4wNjcgMTcuMDY3IDAgMDEzNC4xMzMgMFY1MTJhMTcuMDY3IDE3LjA2NyAwIDAxLTE3LjA2NyAxNy4wNjd6TTY4Mi42NjcgMzU4LjRhMTcuMDY3IDE3LjA2NyAwIDAxLTE3LjA2Ny0xNy4wNjdWMjU2YTE3LjA2NyAxNy4wNjcgMCAxMTM0LjEzMyAwdjg1LjMzM2ExNy4wNjcgMTcuMDY3IDAgMDEtMTcuMDY2IDE3LjA2N3ptLTU5Ny4zMzQgMGExNy4wNjcgMTcuMDY3IDAgMDEtMTcuMDY2LTE3LjA2N1YyNTZhMTcuMDY3IDE3LjA2NyAwIDAxMzQuMTMzIDB2ODUuMzMzQTE3LjA2NyAxNy4wNjcgMCAwMTg1LjMzMyAzNTguNHptNTk3LjMzNC0xNzAuNjY3YTE3LjA2NyAxNy4wNjcgMCAwMS0xNy4wNjctMTcuMDY2VjEwMi40aC02OC4yNjdhMTcuMDY3IDE3LjA2NyAwIDExMC0zNC4xMzNoODUuMzM0YTE3LjA2NyAxNy4wNjcgMCAwMTE3LjA2NiAxNy4wNjZ2ODUuMzM0YTE3LjA2NyAxNy4wNjcgMCAwMS0xNy4wNjYgMTcuMDY2em0tNTk3LjMzNCAwYTE3LjA2NyAxNy4wNjcgMCAwMS0xNy4wNjYtMTcuMDY2Vjg1LjMzM2ExNy4wNjcgMTcuMDY3IDAgMDExNy4wNjYtMTcuMDY2aDg1LjMzNGExNy4wNjcgMTcuMDY3IDAgMDEwIDM0LjEzM0gxMDIuNHY2OC4yNjdhMTcuMDY3IDE3LjA2NyAwIDAxLTE3LjA2NyAxNy4wNjZ6TTUxMiAxMDIuNGgtODUuMzMzYTE3LjA2NyAxNy4wNjcgMCAwMTAtMzQuMTMzSDUxMmExNy4wNjcgMTcuMDY3IDAgMTEwIDM0LjEzM3ptLTE3MC42NjcgMEgyNTZhMTcuMDY3IDE3LjA2NyAwIDAxMC0zNC4xMzNoODUuMzMzYTE3LjA2NyAxNy4wNjcgMCAwMTAgMzQuMTMzeiIvPjwvc3ZnPg==",v="_ProcessNode_";function pt(t,e){const M=document.createElement("a");M.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(e)}`),M.setAttribute("download",t),M.style.display="none",document.body.appendChild(M),M.click(),document.body.removeChild(M)}function De(t){const e={modelType:t,setDataObject(M){var n,i;const o=(n=e.lf)==null?void 0:n.history;o&&(o.undos=[],o.redos=[]);const s={id:(M==null?void 0:M.id)||"",text:{value:(M==null?void 0:M.text)||"",x:0,y:0},properties:(M==null?void 0:M.properties)||{},type:v,x:0,y:0};M.nodes.unshift(s),(i=e.lf)==null||i.renderRawData(M)},setData(M,n="default"){let i;if(n.startsWith("json"))i=JSON.parse(M);else if(t.adapters){const o=t.adapters[n];o&&(i=o.in(M))}i?this.setDataObject(i):console.error("无法识别的数据格式",n,M)},getDataObject(){var M;const n=(M=e.lf)==null?void 0:M.getGraphRawData(),i=n==null?void 0:n.nodes[0];if((i==null?void 0:i.type)===v){n==null||n.nodes.shift();let o="";i.text&&(o=i.text.value);const s={id:i.id||"",text:o,properties:i.properties||{}};return Object.assign(s,n)}else return console.log(`未找到类型为 ${v} 的节点`),Object.assign({id:"",text:"",properties:{}},n)},getData(M="default"){const n=e.getDataObject();if(M==="json.mini")return JSON.stringify(n);if(t.adapters){const i=t.adapters[M];if(i)return i.out(n)}return JSON.stringify(n,null,2)},exportData(M=t.name,n="json.mini"){const i=e.getData(n);pt(M,i?i.toString():"")},exportPng(M=t.name,n){var i;M&&!M.endsWith(".png")&&(M+=".png"),(i=e.lf)==null||i.getSnapshot(M,n)},showMiniMap:O(!1),toggleMiniMap(){var M;const n=(M=e.lf)==null?void 0:M.extension.miniMap,i=e.showMiniMap;i.value=!i.value,i.value?n.show():n.hide()},getCenter(){var M;const n=(M=e.lf)==null?void 0:M.graphModel,i=n?n.width/2:0,o=n?n.height/2:0;return[i,o]},scale:de({value:1,percentage:Ve(()=>{const M=e.scale.value;return`${Number(M*100).toFixed()}%`})}),zoomOut(){var M;(M=e.lf)==null||M.zoom(!1,e.getCenter())},zoomIn(){var M;(M=e.lf)==null||M.zoom(!0,e.getCenter())},resetZoom(){var M,n;(M=e.lf)==null||M.resetZoom(),(n=e.lf)==null||n.resetTranslate()},fitView(M){var n;(n=e.lf)==null||n.fitView(M)}};return e}function Ie(t,e){var M,n,i,o,s,r;const u=t==null?void 0:t.container,N=e.modelType;if(!u)throw console.log("error container is null"),new Error("container is null");function l(){if(u&&e.lf){const{width:a,height:j}=u.getBoundingClientRect();e.lf.resize(a-8,j-8)}}N.plugins&&(t.plugins||(t.plugins=[]),t.plugins.push(...N.plugins)),e.lf=new Je(t),N.theme&&((M=e.lf)==null||M.setTheme(N.theme)),(n=e.lf)==null||n.register(xt),N.elementTypes.forEach(a=>{var j;(j=e.lf)==null||j.register(a)}),(i=e.lf)==null||i.setDefaultEdgeType(N.defaultEdgeType),(o=e.lf)==null||o.setZoomMaxSize(5),N.init&&N.init(e.lf),e.scale.value=((s=e.lf)==null?void 0:s.getTransform().SCALE_X)||1,(r=e.lf)==null||r.on("graph:transform",a=>{(a.type==="zoom"||a.type==="resetZoom")&&(e.scale.value=a.transform.SCALE_X)}),Lt(u,Xe(async()=>{await W(),l()},500))}function WM(t,e,M){const n=De(t);return ae(()=>{if(!e.value){console.log("error container is null");return}const i={...M,container:e.value,isSilentMode:!0};Ie(i,n)}),n}function HM(t,e,M,n){const i=De(t),o=K({modeler:i});Ke("properties_panel_context",o);const s=K({collapsed:!e,disabled:!e,toggleCollapsed:()=>{s.collapsed=!s.collapsed}}),r=O(!1),u=d=>{r.value=d},N=O(!0),l=O(!0),a=({undoAble:d,redoAble:w})=>{N.value=!d,l.value=!w},j=()=>{var d;(d=i.lf)==null||d.undo()},A=()=>{var d;(d=i.lf)==null||d.redo()},I=()=>{var d,w,J,X;if(o.lf=i.lf,t.topCategory.subCategories.length===0){const z=t.topCategory.items;z.length>0&&((d=i.lf)==null||d.setPatternItems([{label:"框选",icon:zt,callback:()=>{var x,p;(x=i.lf)==null||x.extension.selectionSelect.openSelectionSelect(),(p=i.lf)==null||p.once("selection:selected",()=>{var E;(E=i.lf)==null||E.extension.selectionSelect.closeSelectionSelect()})}},...z.map(x=>t.elementTypes.find(p=>p.type===x))]))}(w=i.lf)==null||w.on("graph:rendered",()=>{u(!1)}),(J=i.lf)==null||J.on("history:change",({data:z})=>{var x;if(a(z),u(!0),o.selectedModel){const p=o.selectedModel.id;o.selectedModel=(x=i.lf)==null?void 0:x.getModelById(p)}}),e&&((X=i.lf)==null||X.on("node:click,edge:click,blank:click",async({data:z})=>{var x,p,E;if(z){if(((x=o.selectedModel)==null?void 0:x.id)===z.id)return;s.component=e[z.type]||e.default,await W(),o.selectedModel=(p=i.lf)==null?void 0:p.getModelById(z.id)}else{s.component=e.top,await W();const U=(E=i.lf)==null?void 0:E.graphModel.nodes[0];(U==null?void 0:U.type)===v?o.selectedModel=U:o.selectedModel=void 0}}),s.component=e.top)};return ae(()=>{if(!M.value){console.log("error container is null");return}const d={...n,container:M.value};Ie(d,i),I()}),Object.assign(i,{modified:r,undoDisable:N,redoDisable:l,undo:j,redo:A,propertiesPanel:s})}function BM(t=async e=>{}){const e=qe("properties_panel_context"),M=O(!1),n=de({id:"",type:"",text:"",properties:{}}),i=()=>{var N,l,a,j,A;const I=(N=e==null?void 0:e.selectedModel)==null?void 0:N.id;if(!I)return;let d=n.id;((l=e==null?void 0:e.selectedModel)==null?void 0:l.BaseType)==="node"?d=((a=e==null?void 0:e.lf)==null?void 0:a.changeNodeId(I,d))||"":((j=e==null?void 0:e.selectedModel)==null?void 0:j.BaseType)==="edge"&&(d=((A=e==null?void 0:e.lf)==null?void 0:A.changeEdgeId(I,d))||""),(!d||d==="")&&u()},o=[];let s=!1;const r=N=>{var l,a;M.value&&(N==null?void 0:N.id)===n.id&&(n.text=((a=(l=e==null?void 0:e.selectedModel)==null?void 0:l.text)==null?void 0:a.value)||"",t(n))},u=()=>{var N,l,a;s&&((N=e==null?void 0:e.lf)==null||N.off("text:update",r)),o.forEach(j=>j()),o.length=0,e!=null&&e.selectedModel?(n.id=e.selectedModel.id,n.type=e.selectedModel.type,n.text=(l=e.selectedModel.text)==null?void 0:l.value,n.properties=e.selectedModel.properties,(a=e==null?void 0:e.lf)==null||a.on("text:update",r),s=!0):(n.id="",n.type="",n.text="",n.properties={}),o.push(C(()=>n.id,(j,A)=>{i()}),C(()=>n.text,(j,A)=>{var I;(I=e==null?void 0:e.selectedModel)==null||I.updateText(j)})),t(n)};return C(()=>e==null?void 0:e.selectedModel,(N,l)=>{M.value&&u()}),Re(()=>{M.value=!0}),Fe(()=>{M.value=!1}),n}var ht=Object.defineProperty,At=(t,e,M)=>e in t?ht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:M}):t[e]=M,y=(t,e,M)=>(At(t,typeof e!="symbol"?e+"":e,M),M);function wt(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Ot=wt(function(t){var e=t.exports=function(M,n){if(n||(n=16),M===void 0&&(M=128),M<=0)return"0";for(var i=Math.log(Math.pow(2,M))/Math.log(n),o=2;i===1/0;o*=2)i=Math.log(Math.pow(2,M/o))/Math.log(n)*o;for(var s=i-Math.floor(i),r="",o=0;o<Math.floor(i);o++){var u=Math.floor(Math.random()*n).toString(n);r=u+r}if(s){var N=Math.pow(n,s),u=Math.floor(Math.random()*N).toString(n);r=u+r}var l=parseInt(r,n);return l!==1/0&&l>=Math.pow(2,M)?e(M,n):r};e.rack=function(M,n,i){var o=function(r){var u=0;do{if(u++>10)if(i)M+=i;else throw new Error("too many ID collisions, use more bits");var N=e(M,n)}while(Object.hasOwnProperty.call(s,N));return s[N]=r,N},s=o.hats={};return o.get=function(r){return o.hats[r]},o.set=function(r,u){return o.hats[r]=u,o},o.bits=M||128,o.base=n||16,o}});function h(t){if(!(this instanceof h))return new h(t);t=t||[128,36,1],this._seed=t.length?Ot.rack(t[0],t[1],t[2]):t}h.prototype.next=function(t){return this._seed(t||!0)};h.prototype.nextPrefixed=function(t,e){var M;do M=t+this.next(!0);while(this.assigned(M));return this.claim(M,e),M};h.prototype.claim=function(t,e){this._seed.set(t,e||!0)};h.prototype.assigned=function(t){return this._seed.get(t)||!1};h.prototype.unclaim=function(t){delete this._seed.hats[t]};h.prototype.clear=function(){var t=this._seed.hats,e;for(e in t)this.unclaim(e)};var mt=new h([32,32,1]);function m(){return mt.next()}var xe=globalThis&&globalThis.__extends||function(){var t=function(e,M){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,M)};return function(e,M){t(e,M);function n(){this.constructor=e}e.prototype=M===null?Object.create(M):(n.prototype=M.prototype,new n)}}(),Et=function(t){xe(e,t);function e(M,n){var i=this;return M.id||(M.id="Event_"+m()),M.text||(M.text=""),M.text&&typeof M.text=="string"&&(M.text={value:M.text,x:M.x,y:M.y+40}),i=t.call(this,M,n)||this,i}return e.prototype.setAttributes=function(){this.r=18},e.prototype.getConnectedTargetRules=function(){var M=t.prototype.getConnectedTargetRules.call(this),n={message:"起始节点不能作为边的终点",validate:function(){return!1}};return M.push(n),M},e.extendKey="StartEventModel",e}(c.CircleNodeModel),St=function(t){xe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.extendKey="StartEventNode",e}(c.CircleNode),ft={type:"bpmn:startEvent",view:St,model:Et},ze=globalThis&&globalThis.__extends||function(){var t=function(e,M){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,M)};return function(e,M){t(e,M);function n(){this.constructor=e}e.prototype=M===null?Object.create(M):(n.prototype=M.prototype,new n)}}(),Ct=function(t){ze(e,t);function e(M,n){var i=this;return M.id||(M.id="Flow_"+m()),i=t.call(this,M,n)||this,i}return e.extendKey="SequenceFlowModel",e}(c.PolylineEdgeModel),vt=function(t){ze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.extendKey="SequenceFlowEdge",e}(c.PolylineEdge),ne={type:"bpmn:sequenceFlow",view:vt,model:Ct},oe={width:40,height:40},se={width:40,height:40},re={width:100,height:80},ue={width:100,height:80};function g(t,e){if(e<=0)return"";for(let M=0;M<e;M++)t+="  ";return t}function Y(t,e,M,n){let i="";if(e==="bpmn:extensionElements")i+=pe(t,e,M,n);else if(Array.isArray(t))for(let o=0,s=t.length;o<s;o++)i+=Y(t[o],e,M,n);else if(typeof t=="object"){let o=!1;i+=`${g(M,n)}<${e}`;let s=0;for(const r in t)r.charAt(0)==="-"?(s++,s>4&&(i+=`
  ${g(M,n)}`,s=1),i+=` ${r.substring(1)}="${t[r].toString()}"`):o=!0;if(i+=o?`>
`:` />
`,o){for(const r in t)r==="#text"?i+=t[r]:r==="#cdata"?i+=`<![CDATA[${t[r]}]]>
`:r.charAt(0)!=="-"&&(i+=Y(t[r],r,M,n+1));i+=`${g(M,n)}</${e}>
`}}else i+=`${g(M,n)}<${e}>${t.toString()}</${e}>
`;return i}function pe(t,e,M,n){let i="";if(Array.isArray(t))for(let o=0,s=t.length;o<s;o++)i+=Y(t[o],e,M,n);else if(typeof t=="object"){let o=!1;i+=`${g(M,n)}<${e}`;let s=0;for(const r in t)r.charAt(0)==="-"?(s++,s>4&&(i+=`
  ${g(M,n)}`,s=1),i+=` ${r.substring(1)}="${t[r].toString()}"`):o=!0;if(i+=o?`>
`:` />
`,o){for(const r in t)r==="#text"?i+=t[r]:r==="#cdata"?i+=`<![CDATA[${t[r]}]]>
`:r.charAt(0)!=="-"&&(r==="camunda:property"?i+=bt(t[r],r,M,n+1):r==="camunda:taskListener"||r==="camunda:executionListener"?i+=Yt(t[r],r,M,n+1):i+=pe(t[r],r,M,n+1));i+=`${g(M,n)}</${e}>
`}}else i+=`${g(M,n)}<${e}>${t.toString()}</${e}>
`;return i}function bt(t,e,M,n){let i="";if(Array.isArray(t))for(let o=0,s=t.length;o<s;o++){i+=`${g(M,n)}<${e}`;let r=0;for(const u in t[o])u.charAt(0)==="-"&&(r++,r>4&&(i+=`
  ${g(M,n)}`,r=1),i+=` ${u.substring(1)}="${t[o][u].toString()}"`);i+=` />
`}else if(typeof t=="object"){const o=Object.keys(t);if(o.length>1&&o[0]==="0")for(let s=0,r=o.length;s<r;s++){i+=`${g(M,n)}<${e}`;let u=0;for(const N in t[o[s]])N.charAt(0)==="-"&&(u++,u>4&&(i+=`
  ${g(M,n)}`,u=1),i+=` ${N.substring(1)}="${t[o[s]][N].toString()}"`);i+=` />
`}else{i+=`${g(M,n)}<${e}`;let s=0;for(const r in t)r.charAt(0)==="-"&&(s++,s>4&&(i+=`
  ${g(M,n)}`,s=1),i+=` ${r.substring(1)}="${t[r].toString()}"`);i+=` />
`}}else i+=`${g(M,n)}<${e}>${t.toString()}</${e}>
`;return i}function Yt(t,e,M,n){let i="";if(Array.isArray(t))for(let o=0,s=t.length;o<s;o++){i+=`${g(M,n)}<${e}`;let r=0;for(const u in t[o])u.charAt(0)==="-"&&(r++,r>4&&(i+=`
  ${g(M,n)}`,r=1),i+=` ${u.substring(1)}="${t[o][u].toString()}"`);i+=` />
`}else if(typeof t=="object"){const o=Object.keys(t);if(o.length>1&&o[0]==="0")for(let s=0,r=o.length;s<r;s++){i+=`${g(M,n)}<${e}`;let u=0;for(const N in t[o[s]])N.charAt(0)==="-"&&(u++,u>4&&(i+=`
  ${g(M,n)}`,u=1),i+=` ${N.substring(1)}="${t[o[s]][N].toString()}"`);i+=` />
`}else{i+=`${g(M,n)}<${e}`;let s=0;for(const r in t)r.charAt(0)==="-"&&(s++,s>4&&(i+=`
  ${g(M,n)}`,s=1),i+=` ${r.substring(1)}="${t[r].toString()}"`);i+=` />
`}}else i+=`${g(M,n)}<${e}>${t.toString()}</${e}>
`;return i}function _t(t){let e=`<?xml version="1.0" encoding="UTF-8"?>
`;for(const M in t)e+=Y(t[M],M,"",0);return e}const L=function(){};L.ObjTree=function(){return this};L.ObjTree.VERSION="0.23";L.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;L.ObjTree.prototype.attr_prefix="-";L.ObjTree.prototype.parseXML=function(t){let e;if(window.DOMParser){var M=new DOMParser;const n=M.parseFromString(t,"application/xml");if(!n)return;e=n.documentElement}else if(window.ActiveXObject){const n=new ActiveXObject("Microsoft.XMLDOM");n.async=!1,n.loadXML(t),e=n.documentElement}if(e)return this.parseDOM(e)};L.ObjTree.prototype.parseDOM=function(t){if(!t)return;if(this.__force_array={},this.force_array)for(let M=0;M<this.force_array.length;M++)this.__force_array[this.force_array[M]]=1;let e=this.parseElement(t);if(this.__force_array[t.nodeName]&&(e=[e]),t.nodeType!==11){const M={};M[t.nodeName]=e,e=M}return e};L.ObjTree.prototype.parseElement=function(t){if(t.nodeType===7)return;if(t.nodeType===3||t.nodeType===4)return t.nodeValue.match(/[^\x00-\x20]/)==null?void 0:t.nodeValue;let e;const M={};if(t.attributes&&t.attributes.length){e={};for(let o=0;o<t.attributes.length;o++){let s=t.attributes[o].nodeName;if(typeof s!="string")continue;const r=t.attributes[o].nodeValue;r&&(s=this.attr_prefix+s,typeof M[s]>"u"&&(M[s]=0),M[s]++,this.addNode(e,s,M[s],r))}}if(t.childNodes&&t.childNodes.length){let o=!0;e&&(o=!1);for(let s=0;s<t.childNodes.length&&o;s++){const r=t.childNodes[s].nodeType;r===3||r===4||(o=!1)}if(o){e||(e="");for(let s=0;s<t.childNodes.length;s++)e+=t.childNodes[s].nodeValue}else{e||(e={});for(let s=0;s<t.childNodes.length;s++){var n=t.childNodes[s].nodeName;if(typeof n=="string"){var i=this.parseElement(t.childNodes[s]);i&&(typeof M[n]>"u"&&(M[n]=0),M[n]++,this.addNode(e,n,M[n],i))}}}}return e};L.ObjTree.prototype.addNode=function(t,e,M,n){this.__force_array[e]?(M===1&&(t[e]=[]),t[e][t[e].length]=n):M===1?t[e]=n:M===2?t[e]=[t[e],n]:t[e][t[e].length]=n};L.ObjTree.prototype.writeXML=function(t){const e=this.hash_to_xml(null,t);return this.xmlDecl+e};L.ObjTree.prototype.hash_to_xml=function(t,e){const M=[],n=[];for(const s in e){if(!Object.prototype.hasOwnProperty.call(e,s))continue;const r=e[s];s.charAt(0)!==this.attr_prefix?typeof r>"u"||r==null?M[M.length]=`<${s} />`:typeof r=="object"&&r.constructor===Array?M[M.length]=this.array_to_xml(s,r):typeof r=="object"?M[M.length]=this.hash_to_xml(s,r):M[M.length]=this.scalar_to_xml(s,r):n[n.length]=` ${s.substring(1)}="${this.xml_escape(r)}"`}const i=n.join("");let o=M.join("");return typeof t>"u"||t==null||(M.length>0?o.match(/\n/)?o=`<${t}${i}>
${o}</${t}>
`:o=`<${t}${i}>${o}</${t}>
`:o=`<${t}${i} />
`),o};L.ObjTree.prototype.array_to_xml=function(t,e){const M=[];for(let n=0;n<e.length;n++){const i=e[n];typeof i>"u"||i==null?M[M.length]=`<${t} />`:typeof i=="object"&&i.constructor===Array?M[M.length]=this.array_to_xml(t,i):typeof i=="object"?M[M.length]=this.hash_to_xml(t,i):M[M.length]=this.scalar_to_xml(t,i)}return M.join("")};L.ObjTree.prototype.scalar_to_xml=function(t,e){return t==="#text"?this.xml_escape(e):`<${t}>${this.xml_escape(e)}</${t}>
`};L.ObjTree.prototype.xml_escape=function(t){return t.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};const kt=t=>new L.ObjTree().parseXML(t),he=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function B(t){const e={};return Object.entries(t).forEach(([M,n])=>{typeof n!="object"?M.indexOf("-")===0?e[M]=n:e[`-${M}`]=n:e[M]=B(n)}),e}function Ae(t){const e={};return Object.entries(t).forEach(([M,n])=>{const i=M;typeof n=="string"?M.indexOf("-")===0?e[i.substring(1)]=n:e[i]=n:typeof n=="object"?e[i]=Ae(n):e[i]=n}),e}function Qt(t,e){const M=new Map;e.nodes.forEach(i=>{var o;const s={"-id":i.id};if((o=i.text)!=null&&o.value&&(s["-name"]=i.text.value),i.properties){const r=B(i.properties);Object.assign(s,r)}M.set(i.id,s),t[i.type]?Array.isArray(t[i.type])?t[i.type].push(s):t[i.type]=[t[i.type],s]:t[i.type]=s});const n=e.edges.map(i=>{var o;const s=M.get(i.targetNodeId);if(s["bpmn:incoming"])Array.isArray(s["bpmn:incoming"])?s["bpmn:incoming"].push(i.id):s["bpmn:incoming"]=[s["bpmn:incoming"],i.id];else if(s["bpmn:outgoing"]){const N=s["bpmn:outgoing"];delete s["bpmn:outgoing"],s["bpmn:incoming"]=i.id,s["bpmn:outgoing"]=N}else s["bpmn:incoming"]=i.id;const r=M.get(i.sourceNodeId);r["bpmn:outgoing"]?Array.isArray(r["bpmn:outgoing"])?r["bpmn:outgoing"].push(i.id):r["bpmn:outgoing"]=[r["bpmn:outgoing"],i.id]:r["bpmn:outgoing"]=i.id;const u={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if((o=i.text)!=null&&o.value&&(u["-name"]=i.text.value),i.properties){const N=B(i.properties);Object.assign(u,N)}return u});t["bpmn:sequenceFlow"]=n}function Ut(t,e){t["bpmndi:BPMNEdge"]=e.edges.map(M=>{var n,i;const o=M.id,s=(n=M.pointsList)==null?void 0:n.map(({x:u,y:N})=>({"-x":u,"-y":N})),r={"-id":`${o}_di`,"-bpmnElement":o,"di:waypoint":s};return(i=M.text)!=null&&i.value&&(r["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":M.text.x-M.text.value.length*10/2,"-y":M.text.y-7,"-width":M.text.value.length*10,"-height":14}}),r}),t["bpmndi:BPMNShape"]=e.nodes.map(M=>{var n;const i=M.id;let o=100,s=80,{x:r,y:u}=M;const N=T.shapeConfigMap.get(M.type);N&&(o=N.width,s=N.height),r-=o/2,u-=s/2;const l={"-id":`${i}_di`,"-bpmnElement":i,"dc:Bounds":{"-x":r,"-y":u,"-width":o,"-height":s}};return(n=M.text)!=null&&n.value&&(l["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":M.text.x-M.text.value.length*10/2,"-y":M.text.y-7,"-width":M.text.value.length*10,"-height":14}}),l})}function Pt(t){let e=[],M=[],n="",i="";const o={"bpmn:extensionElements":{},isExecutable:!1,description:""},s=t["bpmn:definitions"];if(s){const r=s["bpmn:process"];n=r["-id"],i=r["-name"],o["bpmn:extensionElements"]=r["bpmn:extensionElements"],o.isExecutable=r["-isExecutable"],o.description=r["bpmn:documentation"],Object.keys(r).forEach(u=>{if(u!=="bpmn:extensionElements"&&u!=="bpmn:documentation"&&u.indexOf("bpmn:")===0){const N=r[u];if(u==="bpmn:sequenceFlow"){const l=s["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];M=Gt(N,l)}else{const l=s["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];e=e.concat($t(N,l,u))}}})}return{id:n,text:i,properties:o,nodes:e,edges:M}}function $t(t,e,M){const n=[];if(Array.isArray(t))t.forEach(i=>{let o;Array.isArray(e)?o=e.find(r=>r["-bpmnElement"]===i["-id"]):o=e;const s=Ne(o,M,i);n.push(s)});else{let i;Array.isArray(e)?i=e.find(s=>s["-bpmnElement"]===t["-id"]):i=e;const o=Ne(i,M,t);n.push(o)}return n}function Ne(t,e,M){let n=Number(t["dc:Bounds"]["-x"]),i=Number(t["dc:Bounds"]["-y"]);const o=M["-name"],s=T.shapeConfigMap.get(e);s&&(n+=s.width/2,i+=s.height/2);let r={};Object.entries(M).forEach(([l,a])=>{he.includes(l)||(r||(r={}),l==="bpmn:extensionElements"?r["bpmn:extensionElements"]=a:r[l]=a)});let u;if(o&&(u={x:n,y:i,value:o},t["bpmndi:BPMNLabel"]&&t["bpmndi:BPMNLabel"]["dc:Bounds"])){const l=t["bpmndi:BPMNLabel"]["dc:Bounds"];u.x=Number(l["-x"])+Number(l["-width"])/2,u.y=Number(l["-y"])+Number(l["-height"])/2}const N={id:t["-bpmnElement"],type:e,x:n,y:i,properties:r};return u&&(N.text=u),N}function Gt(t,e){const M=[];if(Array.isArray(t))t.forEach(n=>{let i;Array.isArray(e)?i=e.find(o=>o["-bpmnElement"]===n["-id"]):i=e,M.push(ce(i,n))});else{let n;Array.isArray(e)?n=e.find(i=>i["-bpmnElement"]===t["-id"]):n=e,M.push(ce(n,t))}return M}function ce(t,e){let M;const n=e["-name"];if(n){const s=t["bpmndi:BPMNLabel"]["dc:Bounds"];let r=0;n.split(`
`).forEach(u=>{r<u.length&&(r=u.length)}),M={value:n,x:Number(s["-x"])+r*10/2,y:Number(s["-y"])+7}}let i={};Object.entries(e).forEach(([s,r])=>{he.includes(s)||(i||(i={}),i[s]=r)}),i&&(i=Ae(i));const o={id:e["-id"],type:"bpmn:sequenceFlow",pointsList:t["di:waypoint"].map(s=>({x:Number(s["-x"]),y:Number(s["-y"])})),sourceNodeId:e["-sourceRef"],targetNodeId:e["-targetRef"],properties:i};return M&&(o.text=M),o}const T={shapeConfigMap:new Map,setCustomShape(t,e){this.shapeConfigMap.set(t,e)},adapterOut(t){const e={"-id":(t==null?void 0:t.id)||`Process_${m()}`,"-name":t==null?void 0:t.text,"-isExecutable":(t==null?void 0:t.properties.isExecutable)||"false","bpmn:documentation":(t==null?void 0:t.properties.description)||"","bpmn:extensionElements":(t==null?void 0:t.properties["bpmn:extensionElements"])||{}};Qt(e,t);const M={"-id":"BPMNPlane_1","-bpmnElement":e["-id"]};return Ut(M,t),{"bpmn:definitions":{"-id":`Definitions_${m()}`,"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-xmlns:camunda":"http://camunda.org/schema/1.0/bpmn","-xmlns:modeler":"http://camunda.org/schema/modeler/1.0","bpmn:process":e,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":M}}}},adapterIn(t){return Pt(t)}};T.shapeConfigMap.set("bpmn:startEvent",{width:oe.width,height:oe.height});T.shapeConfigMap.set("bpmn:endEvent",{width:se.width,height:se.height});T.shapeConfigMap.set("bpmn:parallelGateway",{width:50,height:50});T.shapeConfigMap.set("bpmn:exclusiveGateway",{width:50,height:50});T.shapeConfigMap.set("bpmn:inclusiveGateway",{width:50,height:50});T.shapeConfigMap.set("bpmn:eventBasedGateway",{width:50,height:50});T.shapeConfigMap.set("bpmn:serviceTask",{width:re.width,height:re.height});T.shapeConfigMap.set("bpmn:userTask",{width:ue.width,height:ue.height});function Zt(t){const e=kt(t);return console.log("bpmnData- data-",e),T.adapterIn(e)}function Wt(t){const e=T.adapterOut(t);return _t(e)}var Ht="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTA3OCAxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+PHBhdGggZD0iTTQ4Mi4wMjUgNDYuOTU0QzMxMC44MjkgNDYuMzg1IDE0Ni41NTkgMTU3LjAwMyA4MS41ODMgMzE1LjI0Yy02OC40MDEgMTU2LjY5OC0zMi44NjEgMzUxLjM1NyA4Ni43OTEgNDczLjU2NyAxMTUuMDc5IDEyMy44NzMgMzA0LjY4NSAxNjkuMzM5IDQ2My40OCAxMTEuMzggMTY0LjU3MS01Ni4wNCAyODYuMDY3LTIxNy42NiAyOTIuNjcyLTM5MS42MDggMTEuMDc4LTE3MC45MjctODkuNDg0LTM0MS40NTUtMjQzLjQ2LTQxNS45MUM2MjAuNzcyIDYyLjU4MiA1NTMuNDQzIDQ2Ljg5IDQ4Ni4wNyA0Ni45ODhhMzk1LjAzIDM5NS4wMyAwIDAwLTQuMDQ1LS4wMzR6bTEyLjAzMiA0Ny40NDljMTY3LjU3Ny45MiAzMjUuNDA1IDEyMi4xNSAzNjguNzQ0IDI4NC4zMTQgNDYuMDUzIDE1NS4xNTgtMTYuMjM4IDMzNC44MDItMTQ5LjkzNiA0MjYuNy0xMzguODgyIDEwMi4wNzktMzQ0LjgzNCA5NC42OTQtNDc1Ljk4NC0xNy4xNkMxMDQuNzQgNjgyLjg5OCA1Ny40NCA0ODguMDIgMTI1LjIzNyAzMzMuNDggMTgzLjk5OSAxOTAuNjEyIDMzMS41MDMgOTIuNjM3IDQ4Ni4wNyA5NC40NWMyLjY2NS0uMDQ2IDUuMzI3LS4wNjEgNy45ODctLjA0N3oiLz48L3N2Zz4K",Bt="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTA3OSAxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+PHBhdGggZD0iTTQ4Mi4zODEgNDYuOTg2Yy0xOTcuMzUzLTEuNDctMzgyLjUgMTQ4LjE0My00MjQuMDIzIDM0MC44NzgtNDAuMDUgMTY5LjI5OCAzMS42NTggMzU4LjE0MyAxNzUuMjc1IDQ1Ni44NCAxMzkuNCA5OS44NDIgMzM4LjA3IDEwNy42NjcgNDgzLjA3NiAxNC45MzggMTQ1LjgwOC04OS4yODkgMjMxLjY3LTI2Ny41OTEgMjA0LjQ2NC00MzcuMjU2Qzg5Ni4yNTkgMjQ2LjUwOCA3NTUuNzY0IDkzLjU0MyA1ODEuMjk5IDU3LjM5Yy0zMi40MzYtNy4yMzYtNjUuNjkyLTEwLjYyNS05OC45MTgtMTAuNDA1em0xMC40OCAxMzcuNTc4YzE0NS4wMTgtLjQ2IDI3OC4yMjggMTE5LjU1OCAyOTMuMDA5IDI2My45MzEgMTguODY3IDEzNy45OTUtNzAuMSAyODIuMzQ1LTIwMy44NTggMzIzLjgzMy0xMzAuNTUgNDQuNDI2LTI4Ny45NzMtMTIuMjctMzU1Ljk4NC0xMzMuMzY3LTc1LjI1NC0xMjUuNjM4LTQzLjIzNi0zMDQuNjc1IDc2LjAxNC0zOTEuOTAyIDU0LjA3OS00MS43MjcgMTIyLjU0Mi02NC4wNjYgMTkwLjgxOC02Mi40OTV6Ii8+PC9zdmc+Cg==",Rt="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTYzLjg0IDE2My44NCIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik04MS45MiAwYy0xLjcxMi0uMDAxLTMuNDI0LjYzNC00LjY5NCAxLjkxTDEuODk5IDc3LjIzMWMtMi41NCAyLjU0LTIuNTI4IDYuODQ5LjAxMiA5LjM4OWw3NS4zMTQgNzUuMzFjMi41NCAyLjU0IDYuODUgMi41NTEgOS4zOSAwbDc1LjMyNi03NS4zMjJjMi41NC0yLjU0IDIuNTI4LTYuODQ5LS4wMTItOS4zOUw4Ni42MTQgMS45MUM4NS4zNDQuNjQgODMuNjMyLjAwMSA4MS45MiAwem0tLjAwNiAxMS4xNjhsNzAuNzY4IDcwLjc2NC03MC43NjggNzAuNzY0LTcwLjc2OC03MC43NjR6bS0xLjkzMiAyOS4yMjNsLS44NTYuMTYzLS43MDEuNDcyLS40ODguNzItLjE2NS44NTd2MzUuMTYyaC0zNS4xOGwtLjAwNS0uMDA3LS44NTMuMTg5LS43LjQ3MXYtLjAwOWwtLjQ4OC43Mi0uMTY1Ljg1OHYzLjg1MXMuMTY0Ljg2Ny4xNy44NzNsLjQ4NS43MDMuNzA1LjQ3Mi44NTYuMTg4aDM1LjE3NnYzNS4xNTZsLS4wMDYtLjAwNS4xNy44NzMuNDg1LjcwMy43MDUuNDcxcy44NS4xOC44NTYuMTg5aDMuODUxbC44NzMtLjE4LjcwMS0uNDcyLjQ4Ni0uNzAzLjE2Ny0uODdWODYuMDc4aDM1LjE2N2wuODczLS4xOC43LS40NzJjLjAwMiAwIC40ODYtLjcwMy40ODYtLjcwM2wuMTY4LS44N3YtMy44NWMwLS4wMDEtLjE2Ny0uODUtLjE2Ni0uODU4LS4wMDEgMC0uNDgzLS43Mi0uNDktLjcybC0uNzA1LS40NzFzLS44Ny0uMTg5LS44Ny0uMThIODYuMDZWNDIuNjEycy0uMTY2LS44NDgtLjE2Ni0uODU3bC0uNDgzLS43Mi0uNzA1LS40NzItLjg3My0uMTcxeiIvPjwvc3ZnPgo=",Ft="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTYzLjg0IDE2My44NCIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik04MS45MiAwYy0xLjcxMi0uMDAxLTMuNDI0LjYzNC00LjY5NCAxLjkxTDEuODk5IDc3LjIzMWMtMi41NCAyLjU0LTIuNTI4IDYuODQ5LjAxMiA5LjM4OWw3NS4zMTQgNzUuMzFjMi41NCAyLjU0IDYuODUgMi41NTEgOS4zOSAwbDc1LjMyNi03NS4zMjJjMi41NC0yLjU0IDIuNTI4LTYuODQ5LS4wMTItOS4zOUw4Ni42MTQgMS45MUM4NS4zNDQuNjQgODMuNjMyLjAwMSA4MS45MiAwem0tLjAwNiAxMS4xNjhsNzAuNzY4IDcwLjc2NC03MC43NjggNzAuNzY0LTcwLjc2Ny03MC43NjR6TTU1LjQ4NSA1MC41NDJsLS44NTIuMTYzLS43MjMuNDg4LTIuNzIzIDIuNzI0cy0uNDk3LjcyOS0uNDk3LjczN2wtLjE1NC44NC4xNjYuODMyLjQ3My43MzcgMjQuODczIDI0Ljg3MS0yNC44NiAyNC44NnYtLjAwOGwtLjQ5OC43MzctLjE1NC44NC4xNjYuODMycy40NzMuNzI4LjQ3My43MzdsMi43MjQgMi43MjIuNzQ2LjQ5LjgyOC4xNjIuODQtLjE1NGMuMDAyIDAgLjczNS0uNDk4LjczNS0uNDk4bDI0Ljg2MS0yNC44NiAyNC44NjcgMjQuODY2Ljc0Ni40ODguODI5LjE2My44NC0uMTU0LjczNC0uNDk3IDIuNzI0LTIuNzIzLjQ4NS0uNzJzLjE2Ni0uODQ5LjE2Ni0uODU3bC0uMTY2LS44MzItLjQ4NS0uNzQ2TDg3Ljc4NSA4MS45MmwyNC44NjQtMjQuODYyLjQ4NS0uNzIuMTY2LS44NDktLjE2Ni0uODMxLS40OTctLjczOC0yLjcyMy0yLjcyMy0uNzIzLS40ODktLjgyOC0uMTYzLS44NTMuMTYzLS43MjIuNDg5LTI0Ljg2NCAyNC44NjMtMjQuODc2LTI0Ljg3NXYtLjAwOGwtLjczNC0uNDcxLS44MjktLjE2M3oiLz48L3N2Zz4K",Vt="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTYzLjg0IDE2My44NCIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik04MS45MiAwYy0xLjcxMi0uMDAxLTMuNDI0LjYzNC00LjY5NCAxLjkxTDEuODk5IDc3LjIzMWMtMi41NCAyLjU0LTIuNTI4IDYuODQ5LjAxMiA5LjM4OWw3NS4zMTQgNzUuMzFjMi41NCAyLjU0IDYuODUgMi41NTEgOS4zOSAwbDc1LjMyNi03NS4zMjJjMi41NC0yLjU0IDIuNTI4LTYuODQ5LS4wMTItOS4zOUw4Ni42MTQgMS45MUM4NS4zNDQuNjQgODMuNjMyLjAwMSA4MS45MiAwem0tLjAwNiAxMS4xNjhsNzAuNzY4IDcwLjc2NC03MC43NjggNzAuNzY0LTcwLjc2OC03MC43NjR6bS4wMDQgMzIuNjU5Yy0yMS4wMiAwLTM4LjEwMSAxNy4wOC0zOC4xMDEgMzguMSAwIDIxLjAyIDE3LjA4IDM4LjEgMzguMTAxIDM4LjEgMjEuMDIgMCAzOC4xMDEtMTcuMDggMzguMTAxLTM4LjEgMC0yMS4wMi0xNy4wOC0zOC4xLTM4LjEwMS0zOC4xem0wIDQuMjI2YzE4LjczMiAwIDMzLjg3NyAxNS4xNDMgMzMuODc3IDMzLjg3NHMtMTUuMTQ1IDMzLjg3Ni0zMy44NzcgMzMuODc2Yy0xOC43MzIgMC0zMy44NzctMTUuMTQ1LTMzLjg3Ny0zMy44NzYgMC0xOC43MzEgMTUuMTQ1LTMzLjg3NSAzMy44NzctMzMuODc1eiIvPjwvc3ZnPgo=",Jt="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+PHBhdGggZD0iTTIxOS45OCAxMDcuNTJjLTEwOS45MzQgMC0xOTkuNSA4OS4xODgtMTk5LjUgMTk4LjkxMnY0MTEuMTM2YzAgMTA5LjcyNCA4OS41NjYgMTk4LjkxMiAxOTkuNSAxOTguOTEyaDU4NC4wNGMxMDkuOTM0IDAgMTk5LjUtODkuMTg4IDE5OS41LTE5OC45MTJWMzA2LjQzMmMwLTEwOS43MjQtODkuNTY2LTE5OC45MTItMTk5LjUtMTk4LjkxMkgyMTkuOTh6bTAgNjEuNDRoNTg0LjA0Yzc3LjA3NCAwIDEzOC4wNiA2MC44MzkgMTM4LjA2IDEzNy40NzJ2NDExLjEzNmMwIDc2LjYzMy02MC45ODYgMTM3LjQ3Mi0xMzguMDYgMTM3LjQ3MkgyMTkuOThjLTc3LjA3NCAwLTEzOC4wNi02MC44MzktMTM4LjA2LTEzNy40NzJWMzA2LjQzMmMwLTc2LjYzMyA2MC45ODYtMTM3LjQ3MiAxMzguMDYtMTM3LjQ3MnptMzcuNDQ5IDUxLjY0NGMtLjAxNSAxMS44NjIuMDA0IDIzLjcyNS4wMzQgMzUuNTg3LTEwLjExNiAyLjg2Mi0xOS4zNiA2Ljg1Ni0yOC4wOSAxMS43NDhsLTI1LjUxNS0yNS4yMDgtNDcuNzA4IDQ3Ljk4NSAyNS41MTIgMjUuMjAzYTEyNi4xNyAxMjYuMTcgMCAwMC0xMS40NjIgMjcuOTdsLTM2LjE0LjA2N3Y2Ny41OGwzNi41MTctLjEzMmMzLjM0IDEzLjI0IDEwLjYwOCAyNS4xNDQgMTcuODQ2IDM1Ljc4OHYtNTguMjk0bC0zMS45MjEuMTE0di0yMi42NTVsMzEuNzYyLS4wNTcgMS43ODMtOS4wMzJhMTAzLjc3MyAxMDMuNzczIDAgMDExNS4xNDctMzYuOTY0bDUuMDYtNy42ODYtMjIuMzE1LTIyLjA0NUwyMDQgMjc0LjQxOWwyMi4zNTYgMjIuMDg3IDcuNjA4LTUuMDc3YzExLjYyNy03LjY3IDI0LjM0My0xMi44MTIgMzcuMDI0LTE1LjQ5bDguOTY0LTEuODYtLjA4MS0zMS4wMzFoMjMuMDczbC0uMTc4IDMwLjg2OGg2MC41NDJjLTUuNjgtNi43NzgtMjkuMjE1LTE1LjYtMzcuOTk1LTE4LjA1OGwuMjA0LTM1LjI1M2MtMjUuMTM2IDAtNDQuODQyLjAwMS02OC4wODgtLjAwMXptNjMuODUxIDY0LjY1M2wuMDkzIDM1LjU4NWMtMTAuMTE3IDIuODYyLTE5LjM2MSA2Ljg1Ni0yOC4wOTEgMTEuNzVsLTI1LjUxNS0yNS4yMS00Ny43MDkgNDcuOTg2IDI1LjUxMyAyNS4yMDNhMTI2LjE2MyAxMjYuMTYzIDAgMDAtMTEuNDYzIDI3Ljk3bC0zNi4xNC4wNjZ2NjcuNTgxbDM2LjUxOC0uMTNjMi44NzQgMTAuMDIgNi44NTkgMTkuMTcyIDExLjc0MiAyNy44MWwtMjYuMTI3IDI2LjAyNiA0OC4yNCA0Ny40MTEgMjYuMDM0LTI1LjkxM2ExMjYuNjgyIDEyNi42ODIgMCAwMDI4LjIyNCAxMS40NzJsLjAxNyAzNi43NzhjMjMuMjEuMjAzIDQ3LjkyLjA5OCA2Ny43NTUuMDk2di0zNy4yMTNjMTAuMTI0LTIuODU1IDE5LjM5Ny02Ljg3OCAyOC4xMy0xMS43NjhsMjYuMDEyIDI1LjY0OCA0Ny43NC00Ny45MjUtMjYuMDY3LTI1LjY4OGExMjYuNDU2IDEyNi40NTYgMCAwMDExLjQ3Ny0yOC4wMmwzNS4zODgtLjIydi02Ny41MTRsLTM1Ljc4NS4yMTdjLTIuODc2LTEwLjAzMS02LjgwNC0xOS4xMi0xMS43NTItMjcuODE2bDI0LjcyNi0yNC43ODktNDguMjEzLTQ3LjQ5Mi0yNC42OTQgMjQuNzc5YTEyNy44MDcgMTI3LjgwNyAwIDAwLTI4LjExMS0xMS40MjZsLjIwMy0zNS4yNTRIMzIxLjI4em0yMi41IDIyLjQ0M2gyMy4wNzRsLS4xNzggMzAuODY5IDkuMTEzIDEuNzg4YTEwNS40NCAxMDUuNDQgMCAwMTM3LjE5NiAxNS4wOTJsNy42MzggNC45NzkgMjEuNTUtMjEuNjIzIDE2LjIyOSAxNS45ODUtMjEuNTgxIDIxLjYzNiA1LjE5MyA3LjY2NGM3LjYxOSAxMS41MDEgMTIuNjczIDIzLjkzNCAxNS41MjYgMzYuNzM2bDEuODc3IDguOTggMzEuMTktLjE5djIyLjYzMmwtMzEuMDE2LjE5MS0xLjc4MSA4Ljk4YTEwNC4wNzQgMTA0LjA3NCAwIDAxLTE1LjE2NSAzN2wtNS4wNjYgNy42OTUgMjIuODQ2IDIyLjUxNC0xNi4wNTggMTYuMTItMjIuODQ4LTIyLjUyOC03LjU5NiA1LjA0NmMtMTEuNjMgNy42LTI0LjI0NSAxMi44NjQtMzYuOTczIDE1LjQ1N2wtOS4wMjQgMS44MDJ2MzIuNzdjLTYuMTY5LjAxNi0xMi44OTguMDA2LTIyLjg4MS0uMDA4bC0uMDE1LTMyLjUyNS05LjA2NC0xLjc3Yy0xMy4yNS0yLjU4OC0yNS45MTItNy43MDctMzcuMTczLTE1LjA5bC03LjYxNi00Ljk5NC0yMi45MzYgMjIuODMxLTE2LjIzMS0xNS45NTIgMjIuOTY4LTIyLjg3OS01LjI0MS03LjY5NmMtNy42MjYtMTEuNDc2LTEyLjY3MS0yMy45MjItMTUuNTI5LTM2LjcxbC0xLjg3Ni04Ljk1Mi0zMS45MjEuMTE0VjQzMS4wMWwzMS43NjItLjA1OCAxLjc4My05LjAzMWExMDMuNzgzIDEwMy43ODMgMCAwMTE1LjE0Ny0zNi45NjVsNS4wNjEtNy42ODYtMjIuMzE2LTIyLjA0NCAxNi4wNi0xNi4xNTQgMjIuMzU3IDIyLjA4NyA3LjYwOC01LjA3NmMxMS42NC03LjYyMSAyMy45OTQtMTIuNjc3IDM3LjAyNC0xNS40OWw4Ljk2NC0xLjg2MS0uMDgtMzEuMDMxem0xMS45MTYgODIuNDZjLTI3Ljc4IDAtNTAuNTQgMjIuNzYyLTUwLjU0IDUwLjU0MnMyMi43NiA1MC41NCA1MC41NCA1MC41NGMyNy43OCAwIDUwLjU0LTIyLjc2IDUwLjU0LTUwLjU0IDAtMjcuNzgtMjIuNzYtNTAuNTQxLTUwLjU0LTUwLjU0MXptMCAyMi40NDRjMTUuNjUgMCAyOC4wOTggMTIuNDQ3IDI4LjA5OCAyOC4wOTggMCAxNS42NS0xMi40NDcgMjguMDk3LTI4LjA5OCAyOC4wOTctMTUuNjUgMC0yOC4wOTctMTIuNDQ2LTI4LjA5Ny0yOC4wOTdzMTIuNDQ2LTI4LjA5OCAyOC4wOTctMjguMDk4eiIvPjwvc3ZnPgo=",Xt="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+PHBhdGggZD0iTTMzNS43NTIgMjQ0Ljc4M2MtNTIuMTQ1IDAtODkuNDQ4IDQwLjA4Ni04OS41NTMgODUuNzQ3di4wMjVjLjAwMyAxMy44MDkgMy43NCAyOC4zODIgOS41NzggNDEuNTI3IDQuMjE1IDkuNDkxIDkuNDU1IDE4LjIxNyAxNS44NDEgMjUuMjA2LTM3Ljk1MiAxMi45ODUtODIuNDE2IDM0LjM1NS0xMDQuODkgNzYuNDkzbC0xLjIxMSAyLjI3MXYxMzYuNDFoMzQwLjQ3di0xMzYuNDFsLTEuMjExLTIuMjdjLTIyLjE1MS00MS41MzMtNjUuNjUzLTYyLjg3My0xMDMuMjM4LTc1LjkxMSAxOC4zNDgtMTguNjU5IDIzLjc2LTQyLjc0MSAyMy43NjctNjcuMzE2di0uMDI1Yy0uMTA1LTQ1LjY2LTM3LjQwOC04NS43NDctODkuNTUzLTg1Ljc0N3ptLTM1LjYwMyA0OC42MjJjMi40MS4wMDYgNS4wNTYuMDg2IDcuOTc0LjI1OCAyMy4yNDMgMS4zNyAzMS4wNjcgNS41NTQgMzcuMDggOS41MjIgNi4wMTMgMy45NjggMTAuMjUyIDcuNzQ2IDI2LjE0NCA4LjIxaC4wMWMxMi4zODQtLjQ2NCAxOC4zNC0yLjY3MiAyMi42MS01LjE3MyAxLjczLTEuMDE0IDMuMTg1LTIuMDY3IDQuNjc0LTMuMDczIDMuOTM1IDguNDM3IDYuMDQ5IDE3Ljc2MyA2LjA3MyAyNy40MTUtLjAwOCAyNy40ODUtNC43MzMgNDYuNzMyLTI5LjkzNCA2Mi40ODNsMi40NjUgMTguNThhNDIyLjQwMyA0MjIuNDAzIDAgMDExNi4xNyA1LjI1OGMuNzY5IDMuMjA2IDEuNjU3IDcuNDExIDIuMjU0IDExLjg4Mi42MjYgNC42ODMuODcyIDkuNTU2LjQ4NiAxMy4yMTUtLjM4NiAzLjY1OS0xLjUyMiA1LjYzNC0xLjcyMSA1LjgzNC0xMi44MSAxMi44MDgtMzUuNTQ2IDIwLjI3OC01OC42MDkgMjAuMjc4LTIzLjA2MiAwLTQ1Ljc5OS03LjQ3LTU4LjYwOC0yMC4yNzgtLjItLjItMS4zMzYtMi4xNzUtMS43MjEtNS44MzQtLjM4Ni0zLjY1OS0uMTQtOC41MzIuNDg2LTEzLjIxNS42LTQuNDk1IDEuNDk1LTguNzI1IDIuMjY3LTExLjkzOGE0MjIuOTgyIDQyMi45ODIgMCAwMTE2LjAxLTUuMjAxbDEuNDctMTkuOTFjLTEuMTk3LTEuNTM1LTIuNDE2LTIuNTUtMy44NzEtMy42NDMtNS42MjUtNC4yMTktMTIuNDQ1LTEzLjUwMi0xNy4yNjMtMjQuMzUtNC44MTctMTAuODQ1LTcuOC0yMy4yNC03LjgwNS0zMy4xNjMuMDMtMTEuODk3IDMuMjMyLTIzLjMgOS4xMTEtMzMuMTUgMS4wNTMtLjM5MSAyLjE2Mi0uODA1IDMuNDA5LTEuMjE1IDQuMzg1LTEuNDQyIDEwLjM5NC0yLjgxOSAyMC44MzktMi43OTJ6TTI1NS42MyA0MjUuNjM4Yy0uMDE4LjEzNS0uMDM5LjI2Ny0uMDU2LjQwMi0uNzYxIDUuNjk2LTEuMjA5IDExLjg5Ni0uNTU0IDE4LjEwMS42NTQgNi4yMDUgMi4yOTEgMTIuODg3IDcuNjM4IDE4LjIzMyAxOC4yNSAxOC4yNTEgNDUuODcyIDI2LjMxIDczLjE2NyAyNi4zMSAyNy4yOTYgMCA1NC45MTctOC4wNTggNzMuMTY4LTI2LjMxIDUuMzQ3LTUuMzQ2IDYuOTg0LTEyLjAyOCA3LjYzOC0xOC4yMzMuNjU0LTYuMjA1LjIwNy0xMi40MDUtLjU1NC0xOC4xbC0uMDQ3LS4zMzNjMjcuNzQ3IDEyLjE2NyA1NC41NjggMjkuNTk0IDY5LjM2NiA1NS42MTR2MTEwLjU0OWgtNDkuMjY4di03Ny45NDdoLTIwLjU5djc3Ljk0N0gyNTUuNTI0di03Ny45NDdoLTIwLjU5djc3Ljk0N2gtNDguODI3VjQ4MS4zMjJjMTQuODI3LTI2LjA2OCA0MS43Mi00My41MTIgNjkuNTI0LTU1LjY4NHpNMjE5Ljk4IDEwNy41MmMtMTA5LjkzNCAwLTE5OS41IDg5LjE4OC0xOTkuNSAxOTguOTEydjQxMS4xMzZjMCAxMDkuNzI0IDg5LjU2NiAxOTguOTEyIDE5OS41IDE5OC45MTJoNTg0LjA0YzEwOS45MzQgMCAxOTkuNS04OS4xODggMTk5LjUtMTk4LjkxMlYzMDYuNDMyYzAtMTA5LjcyNC04OS41NjYtMTk4LjkxMi0xOTkuNS0xOTguOTEySDIxOS45OHptMCA2MS40NGg1ODQuMDRjNzcuMDc0IDAgMTM4LjA2IDYwLjgzOCAxMzguMDYgMTM3LjQ3MnY0MTEuMTM2YzAgNzYuNjMzLTYwLjk4NiAxMzcuNDcyLTEzOC4wNiAxMzcuNDcySDIxOS45OGMtNzcuMDc0IDAtMTM4LjA2LTYwLjg0LTEzOC4wNi0xMzcuNDcyVjMwNi40MzJjMC03Ni42MzQgNjAuOTg2LTEzNy40NzIgMTM4LjA2LTEzNy40NzJ6Ii8+PC9zdmc+Cg==",Kt="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+PHBhdGggZD0iTTIxOS45OCAxMDcuNTJjLTEwOS45MzQgMC0xOTkuNSA4OS4xODgtMTk5LjUgMTk4LjkxMnY0MTEuMTM2YzAgMTA5LjcyNCA4OS41NjYgMTk4LjkxMiAxOTkuNSAxOTguOTEyaDU4NC4wNGMxMDkuOTM0IDAgMTk5LjUtODkuMTg4IDE5OS41LTE5OC45MTJWMzA2LjQzMmMwLTEwOS43MjQtODkuNTY2LTE5OC45MTItMTk5LjUtMTk4LjkxMkgyMTkuOTh6bTAgNjEuNDRoNTg0LjA0Yzc3LjA3NCAwIDEzOC4wNiA2MC44MzkgMTM4LjA2IDEzNy40NzJ2NDExLjEzNmMwIDc2LjYzMy02MC45ODYgMTM3LjQ3Mi0xMzguMDYgMTM3LjQ3MkgyMTkuOThjLTc3LjA3NCAwLTEzOC4wNi02MC44MzktMTM4LjA2LTEzNy40NzJWMzA2LjQzMmMwLTc2LjYzMyA2MC45ODYtMTM3LjQ3MiAxMzguMDYtMTM3LjQ3MnptLTM2LjgyMiA3My42OFY2MzEuN2g1MTguMjU3VjI0Mi42NEgxODMuMTU4em0yMi4wNyAxMzQuNzExaDQ3NC4xMTh2MTA1LjY3MkgzMjcuMjF2LTEwNS40MWgtMjIuMDd2MTA1LjQxaC05OS45MTFWMzc3LjM1em0wIDEyNy43NDJoOTkuOTExVjYwOS42M2gtOTkuOTExVjUwNS4wOTN6bTEyMS45ODEgMGgzNTIuMTM3VjYwOS42M0gzMjcuMjFWNTA1LjA5M3oiLz48cGF0aCBkPSJNMjA3LjIzOCAyNjcuNTUydjExMC4xN2g0NzEuODh2LTExMC4xN3oiLz48L3N2Zz4K";const qt="",eM="bpmn",tM="",MM={},iM=[{id:"Event_0vu9f9k",type:"bpmn:startEvent",x:250,y:130,properties:{}},{id:"Event_23njbc0",type:"bpmn:endEvent",x:781,y:130,properties:{}},{id:"Activity_0fiu8id",type:"bpmn:userTask",x:410,y:130,properties:{}},{id:"Activity_1t0d2vr",type:"bpmn:serviceTask",x:610,y:130,properties:{}}],nM=[{id:"Flow_10c8bo7",type:"bpmn:sequenceFlow",sourceNodeId:"Event_0vu9f9k",targetNodeId:"Activity_0fiu8id",startPoint:{x:268,y:130},endPoint:{x:360,y:130},properties:{},pointsList:[{x:268,y:130},{x:360,y:130}]},{id:"Flow_3gtob6a",type:"bpmn:sequenceFlow",sourceNodeId:"Activity_0fiu8id",targetNodeId:"Activity_1t0d2vr",startPoint:{x:460,y:130},endPoint:{x:560,y:130},properties:{},pointsList:[{x:460,y:130},{x:560,y:130}]},{id:"Flow_0fvq0tq",type:"bpmn:sequenceFlow",sourceNodeId:"Activity_1t0d2vr",targetNodeId:"Event_23njbc0",startPoint:{x:660,y:130},endPoint:{x:763,y:130},properties:{},pointsList:[{x:660,y:130},{x:763,y:130}]}],oM={id:qt,type:eM,text:tM,properties:MM,nodes:iM,edges:nM};var we=globalThis&&globalThis.__extends||function(){var t=function(e,M){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,M)};return function(e,M){t(e,M);function n(){this.constructor=e}e.prototype=M===null?Object.create(M):(n.prototype=M.prototype,new n)}}(),_=globalThis&&globalThis.__assign||function(){return _=Object.assign||function(t){for(var e,M=1,n=arguments.length;M<n;M++){e=arguments[M];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},_.apply(this,arguments)},sM=function(t){we(e,t);function e(M,n){var i=this;return M.id||(M.id="Event_"+m()),M.text||(M.text=""),M.text&&typeof M.text=="string"&&(M.text={value:M.text,x:M.x,y:M.y+40}),i=t.call(this,M,n)||this,i}return e.prototype.setAttributes=function(){this.r=18},e.prototype.getConnectedSourceRules=function(){var M=t.prototype.getConnectedSourceRules.call(this),n={message:"结束节点不能作为边的起点",validate:function(){return!1}};return M.push(n),M},e.extendKey="EndEventModel",e}(c.CircleNodeModel);(function(t){we(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},e.prototype.getShape=function(){var M=this.props.model,n=M.getNodeStyle(),i=M.x,o=M.y,s=M.r,r=t.prototype.getShape.call(this);return c.h("g",{},r,c.h("circle",_(_({},n),{cx:i,cy:o,r:s-5})))},e.extendKey="EndEventView",e})(c.CircleNode);class Oe extends sM{getNodeStyle(){const e=super.getNodeStyle();return e.strokeWidth=4,e}setAttributes(){this.r=17}}y(Oe,"extendKey","EndEventModel");class me extends c.CircleNode{}y(me,"extendKey","EndEventView");const rM={type:"bpmn:endEvent",view:me,model:Oe};class k extends c.PolygonNodeModel{constructor(e,M){e.id||(e.id=`Gateway_${m()}`),e.text||(e.text=""),e.text&&typeof e.text=="string"&&(e.text={value:e.text,x:e.x,y:e.y+40}),super(e,M),this.points=[[25,0],[50,25],[25,50],[0,25]]}getNodeStyle(){const e=super.getNodeStyle(),M=this.properties;let n;return M.state===4?n="green":M.state===3?n="orange":M.state===2?n="red":M.state===1&&(n="green"),n&&(e.stroke=n,e.fill=n,e.fillOpacity=.2,this.isHovered||this.isSelected||this.incoming.edges[0].style.stroke!==n&&(this.incoming.edges[0].style.stroke=n)),e}}y(k,"extendKey","GatewayModel");class Q extends c.PolygonNode{getIcon(){}getShape(){const{model:e}=this.props,{x:M,y:n,width:i,height:o,points:s}=e,r=e.getNodeStyle();return c.h("g",{transform:`matrix(1 0 0 1 ${M-i/2} ${n-o/2})`},[c.h("polygon",{...r,x:M,y:n,points:s}),this.getIcon()])}}y(Q,"extendKey","GatewayNode");class Ee extends k{}y(Ee,"extendKey","ExclusiveGatewayModel");class Se extends Q{getIcon(){const{model:e}=this.props,M=e.getNodeStyle();return c.h("svg",{width:50,height:50,viewBox:"0 0 256 256"},c.h("path",{fill:M.stroke,d:"M86.695 78.972l-1.332.254-1.128.764-4.255 4.255s-.776 1.139-.777 1.152l-.24 1.313.259 1.299.74 1.152 38.863 38.86-38.845 38.844v-.012l-.777 1.151-.24 1.313.259 1.3s.739 1.138.74 1.151l4.255 4.254 1.165.764 1.295.255 1.314-.241 1.147-.778 38.845-38.844 38.855 38.853 1.165.763 1.295.255 1.314-.242 1.146-.776 4.255-4.255c.001 0 .758-1.125.76-1.125 0 0 .258-1.326.258-1.34l-.26-1.298-.758-1.166L137.163 128l38.85-38.848c.002 0 .758-1.125.76-1.125l.258-1.326-.259-1.299-.777-1.152-4.255-4.256-1.128-.763-1.295-.255-1.332.255-1.129.763-38.85 38.85-38.869-38.868v-.012l-1.147-.737-1.294-.254z"}))}}y(Se,"extendKey","ExclusiveGatewayNode");const uM={type:"bpmn:ExclusiveGateway",view:Se,model:Ee};class fe extends k{}y(fe,"extendKey","InclusiveGatewayModel");class Ce extends Q{getIcon(){const{model:e}=this.props,M=e.getNodeStyle();return c.h("svg",{width:50,height:50,viewBox:"0 0 256 256"},c.h("path",{fill:M.stroke,d:"m 127.99695,68.479759 c -32.844759,0 -59.533482,26.688893 -59.533482,59.531261 0,32.84238 26.688723,59.53016 59.533482,59.53016 32.84477,0 59.53349,-26.68778 59.53349,-59.53016 0,-32.842506 -26.68872,-59.531261 -59.53349,-59.531261 z m 0,6.602309 c 29.26944,0 52.93262,23.661439 52.93262,52.928952 0,29.26738 -23.66318,52.93062 -52.93262,52.93062 -29.269289,0 -52.932466,-23.66324 -52.932466,-52.93062 0,-29.267513 23.663177,-52.929089 52.932466,-52.929089 z"}))}}y(Ce,"extendKey","InclusiveGatewayNode");const NM={type:"bpmn:InclusiveGateway",view:Ce,model:fe};class ve extends k{}y(ve,"extendKey","ParallelGatewayModel");class be extends Q{getIcon(){const{model:e}=this.props,M=e.getNodeStyle();return c.h("svg",{width:50,height:50,viewBox:"0 0 256 256"},c.h("path",{fill:M.stroke,d:"M124.972 63.111l-1.338.254-1.095.737-.762 1.125-.258 1.34v54.941H66.55l-.009-.01-1.332.294-1.096.737.001-.015-.761 1.126-.259 1.34v6.017s.256 1.355.265 1.364l.759 1.098 1.102.737a708.6 708.6 0 001.337.295h54.962v54.931l-.01-.008.266 1.364.758 1.098 1.102.737s1.328.281 1.338.295l6.017-.001 1.364-.282 1.096-.736.758-1.099.262-1.36v-54.934h54.948c.002.001 1.363-.28 1.364-.28l1.095-.738.759-1.098.261-1.36v-6.016c0-.001-.26-1.327-.26-1.34 0 0-.754-1.125-.763-1.125l-1.102-.736s-1.36-.295-1.36-.282H134.47v-54.94s-.26-1.325-.26-1.339l-.755-1.125-1.101-.737-1.364-.268z"}))}}y(be,"extendKey","ParallelGatewayNode");const cM={type:"bpmn:parallelGateway",view:be,model:ve};class F extends c.RectNodeModel{constructor(e,M){e.id||(e.id=`Activity_${m()}`),super(e,M)}}class V extends c.RectNode{getLabelShape(){}getShape(){const{model:e}=this.props,{x:M,y:n,width:i,height:o,radius:s}=e,r=e.getNodeStyle();return c.h("g",{},[c.h("rect",{x:M-i/2,y:n-o/2,rx:s,ry:s,width:i,height:o,...r}),this.getLabelShape()])}}class Ye extends F{}y(Ye,"extendKey","ServiceTaskModel");class _e extends V{getLabelShape(){const{model:e}=this.props,{x:M,y:n,width:i,height:o}=e,s=e.getNodeStyle();return c.h("svg",{x:M-i/2+2,y:n-o/2+2,width:32,height:32,viewBox:"0 0 1024 1024"},c.h("path",{fill:s.stroke,d:"M422.781952 224.345088c-0.023552 18.942976 0.00512 37.886976 0.054272 56.829952-16.155648 4.570624-30.918144 10.948608-44.859392 18.761728l-40.745984-40.256-76.188672 76.630016 40.742912 40.249344a201.485312 201.485312 0 0 0-18.305024 44.667904l-57.7152 0.10496v107.92448l58.318336-0.210432c5.332992 21.144576 16.939008 40.1536 28.498944 57.150976V493.104128l-50.97728 0.182784V457.10848l50.723328-0.09216 2.84672-14.424064c4.15232-21.035008 12.37504-41.087488 24.188928-59.029504l8.08192-12.274176-35.636736-35.206144 25.648128-25.79712 35.70176 35.273216 12.14976-8.108032c18.567168-12.250112 38.875648-20.461056 59.126272-24.737792l14.31552-2.97216-0.128-49.55392h36.846592l-0.285184 49.295872h96.683008c-9.069056-10.825728-46.65344-24.912896-60.676096-28.837888l0.32512-56.297984c-40.1408-0.001024-71.61088 0.002048-108.73344-0.001024z m101.968896 103.248896l0.146944 56.827904c-16.155648 4.570624-30.918144 10.948096-44.859904 18.76224l-40.747008-40.256-76.188672 76.630016 40.743936 40.248832a201.47968 201.47968 0 0 0-18.306048 44.668928l-57.714176 0.103936v107.92448l58.3168-0.209408c4.590592 16.003584 10.95424 30.6176 18.752512 44.413952l-41.72544 41.562112 77.03808 75.714048 41.574912-41.381888c14.24128 7.907328 29.37856 14.047232 45.073408 18.319872l0.026624 58.733056c37.064704 0.324608 76.527104 0.157184 108.204032 0.1536v-59.42784c16.167936-4.558848 30.976512-10.9824 44.921344-18.79296l41.540608 40.957952 76.23936-76.53376-41.62816-41.022976a201.955328 201.955328 0 0 0 18.329088-44.748288l56.514048-0.348672v-107.820032l-57.148416 0.34816c-4.593664-16.018944-10.86464-30.534144-18.766848-44.422144l39.485952-39.587328-76.99456-75.84256-39.435264 39.56992a204.102144 204.102144 0 0 0-44.89216-18.247168l0.324096-56.297984h-108.825088z m35.93216 35.84h36.847104l-0.28416 49.296896 14.554112 2.855936c21.131264 4.1472 41.38496 12.35968 59.39968 24.101376l12.1984 7.950848 34.414592-34.53184 25.916416 25.52832-34.46272 34.551296 8.291328 12.240384c12.16768 18.366464 20.238848 38.2208 24.795136 58.66496l2.998272 14.341632 49.80736-0.302592v36.14208l-49.529344 0.30464-2.845184 14.342144a166.198272 166.198272 0 0 1-24.217088 59.083776l-8.091136 12.291072 36.484096 35.954176-25.644032 25.74336-36.48768-35.976192-12.12928 8.057856c-18.5728 12.137472-38.719488 20.542976-59.045888 24.68352l-14.409728 2.878464v52.33408c-9.851392 0.023552-20.598272 0.008192-36.54144-0.014336l-0.02304-51.941888-14.474752-2.826752c-21.16096-4.132352-41.381376-12.307456-59.364864-24.098304l-12.162048-7.973888-36.628992 36.45952-25.92-25.475584 36.67968-36.536832-8.369664-12.290048c-12.178944-18.326528-20.235776-38.201344-24.800256-58.621952l-2.9952-14.298112-50.976768 0.18176v-36.17792l50.723328-0.092672 2.84672-14.422016c4.15232-21.03552 12.37504-41.089024 24.188928-59.03104l8.08192-12.2752-35.63776-35.206144 25.648128-25.796608 35.702784 35.272704 12.14976-8.107008c18.59072-12.17024 38.318592-20.244992 59.126272-24.736768l14.31552-2.97216-0.128512-49.554944z m19.028992 131.687936c-44.363264 0-80.711168 36.348928-80.711168 80.71168 0 44.363776 36.347904 80.710656 80.711168 80.710656s80.711168-36.34688 80.711168-80.710144-36.347904-80.71168-80.711168-80.71168z m0 35.84c24.993792 0 44.871168 19.8784 44.871168 44.87168 0 24.994304-19.877376 44.870656-44.871168 44.870656-24.993792 0-44.870144-19.876352-44.870144-44.870144s19.87584-44.87168 44.870144-44.87168z"}))}}y(_e,"extendKey","ServiceTaskNode");const lM={type:"bpmn:serviceTask",view:_e,model:Ye};class ke extends F{}y(ke,"extendKey","UserTaskModel");class Qe extends V{getLabelShape(){const{model:e}=this.props,{x:M,y:n,width:i,height:o}=e,s=e.getNodeStyle();return c.h("svg",{x:M-i/2+2,y:n-o/2+2,width:28,height:28,viewBox:"0 0 1024 1024"},c.h("path",{fill:s.stroke,d:"M507.776 186.88c-90.765824 0-155.697664 69.77536-155.879936 149.255168v0.045056c0.005632 24.035328 6.509568 49.40288 16.67072 72.282624 7.33696 16.520704 16.459264 31.709184 27.575296 43.876352-66.06336 22.601216-143.458816 59.79904-182.578176 133.147648L211.456 589.44V826.88h592.64v-237.44l-2.107904-3.95264c-38.556672-72.2944-114.277888-109.44-179.70176-132.135424 31.938048-32.477696 41.35936-74.396672 41.3696-117.171712v-0.045056C663.473664 256.65536 598.541824 186.88 507.776 186.88zM445.803008 271.513088c4.195328 0.01024 8.801792 0.150528 13.88032 0.450048 40.459264 2.384384 54.076416 9.667584 64.543744 16.574976 10.466816 6.90688 17.84576 13.482496 45.508096 14.288896h0.017408c21.555712-0.8064 31.922688-4.649472 39.356928-9.003008 3.012608-1.76384 5.541888-3.597824 8.134144-5.348864 6.85056 14.685184 10.530304 30.919168 10.571776 47.719936-0.014336 47.84128-8.239104 81.344512-52.105216 108.761088l4.291072 32.34304c9.130496 2.77248 18.568192 5.814784 28.1472 9.150976 1.337856 5.5808 2.883584 12.900352 3.922944 20.681728 1.089024 8.152576 1.517568 16.634368 0.845824 23.003136-0.671232 6.368768-2.648576 9.806848-2.995712 10.153984-22.296064 22.296064-61.873664 35.298816-102.017024 35.298816-40.143872 0-79.72096-13.002752-102.017024-35.298816-0.347136-0.347136-2.32448-3.785216-2.996224-10.153984-0.671232-6.368768-0.2432-14.85056 0.846336-23.003136 1.044992-7.824384 2.603008-15.186944 3.945984-20.779008 9.483264-3.29728 18.82624-6.30784 27.86816-9.053696l2.55744-34.656256c-2.082816-2.671104-4.205056-4.440576-6.73792-6.34112-9.789952-7.34464-21.66272-23.502336-30.04928-42.38592-8.382976-18.876416-13.576704-40.45312-13.584384-57.724928 0.051712-20.707328 5.62432-40.556032 15.859712-57.700864 1.831424-0.681984 3.762688-1.402368 5.933056-2.116096 7.632896-2.510336 18.092544-4.906496 36.273152-4.860928zM368.312832 501.68576c-0.032256 0.23552-0.068096 0.464384-0.09984 0.700416-1.324544 9.913856-2.102784 20.70528-0.964096 31.506944 1.138688 10.801152 3.98848 22.43072 13.296128 31.737856 31.768576 31.768576 79.8464 45.796864 127.358976 45.796864 47.512064 0 95.5904-14.0288 127.358976-45.796864 9.307136-9.307136 12.15744-20.936704 13.296128-31.737856 1.138688-10.801664 0.360448-21.593088-0.964096-31.506944-0.026112-0.195584-0.05632-0.385536-0.082944-0.580096 48.299008 21.180928 94.98368 51.51488 120.743936 96.805888V791.04H682.496v-135.68h-35.84v135.68H368.128v-135.68h-35.84v135.68H247.296v-192.428032c25.808896-45.376512 72.621056-75.74016 121.016832-96.926208z"}))}}y(Qe,"extendKey","UserTaskNode");const aM={type:"bpmn:userTask",view:Qe,model:ke};class Ue extends F{}y(Ue,"extendKey","RuleTaskModel");class Pe extends V{getLabelShape(){const{model:e}=this.props,{x:M,y:n,width:i,height:o}=e,s=e.getNodeStyle();return c.h("svg",{x:M-i/2+4,y:n-o/2+4,width:24,height:24,viewBox:"0 0 1024 1024"},c.h("path",{fill:s.stroke,d:"M91.19 196.096v631.808h841.62V196.096H91.19zm35.84 214.016h162.25v176.351H127.03V410.112zm198.09 0h571.85v176.351H325.12V410.112zM127.03 622.303h162.25v169.761H127.03v-169.76zm198.09 0h571.85v169.761H325.12v-169.76z"}))}}y(Pe,"extendKey","RuleTaskNode");const dM={type:"bpmn:businessRuleTask",view:Pe,model:Ue},gM={rect:{rx:5,ry:5},circle:{r:18}},jM="bpmn",yM={name:jM,label:"BPMN 模型",defaultEdgeType:ne.type,theme:gM,adapters:{default:{label:"BPMN",extension:"xml",in(t){return{...Zt(t)}},out(t){return Wt(t)}}},topCategory:{id:"top",items:["bpmn:startEvent","bpmn:endEvent","bpmn:userTask","bpmn:businessRuleTask","bpmn:serviceTask","bpmn:parallelGateway","bpmn:exclusiveGateway","bpmn:inclusiveGateway"],subCategories:[]},elementTypes:[{...ft,label:"开始",icon:Ht},{...rM,label:"结束",icon:Bt},{...aM,label:"用户任务",icon:Xt},{...dM,label:"规则执行",icon:Kt},{...lM,label:"服务调用",icon:Jt},{...cM,type:"bpmn:parallelGateway",label:"并行网关",icon:Rt},{...uM,type:"bpmn:exclusiveGateway",label:"排它网关",icon:Ft},{...NM,type:"bpmn:inclusiveGateway",label:"包含网关",icon:Vt},ne],newData:oM};class LM extends c.BezierEdgeModel{getEdgeStyle(){const e=super.getEdgeStyle();return e.strokeWidth=3,e.stroke=this.isSelected?"#ff7f0e":"#999",e}}class TM extends c.BezierEdge{}const le={type:"flow-link",view:TM,model:LM},$e="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCA0MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTQwIC05ODcuMzYpIj48cGF0aCBkPSJNNTY1LjQzIDEwMDEuOWM2LjU2MiAyLjA4OSAxMS4zMTYgOC4yMzMgMTEuMzE2IDE1LjQ4OCAwIDguOTc1LTcuMjc1IDE2LjI1LTE2LjI1IDE2LjI1cy0xNi4yNS03LjI3NS0xNi4yNS0xNi4yNWMwLTIuODAyLjcxLTUuNDM4IDEuOTU4LTcuNzQiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjMiIHN0eWxlPSJpc29sYXRpb246YXV0bzttaXgtYmxlbmQtbW9kZTpub3JtYWwiLz48Y2lyY2xlIGN4PSI1NjAiIGN5PSIxMDAxLjQiIHI9IjEuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMyIgc3R5bGU9Imlzb2xhdGlvbjphdXRvO21peC1ibGVuZC1tb2RlOm5vcm1hbCIvPjxwYXRoIGQ9Ik01NjAgMTAxNC40Yy0xLjIwNiAwLTExLTEwLjk5OS0xMi4zNTQtOS45NzVTNTU3IDEwMTYuMTQ4IDU1NyAxMDE3LjRzMS4zNiAzIDMgMyAzLTEuMzYxIDMtMy0xLjc5NC0zLTMtM3oiLz48L2c+PC9zdmc+",Ge="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCA0MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMjAgMTJhMTggMTggMCAwMC0xNC4yNDYgNy4wMzNsMi41MjcuODQ0IDEuOTgzLTEuNzk3IDQuODktMy43MTUuOTkuOTMtNC4wODUgMS45MTgtLjA2MyAyLjQxNiAzLjIyLS44MDVjLjk1LS42OCAxLjg5OS0xLjM2NCAyLjg0OS0yLjA0NWwtLjI0OS0yLjI5aDEuMzY0YzEuNTA2LS41MTcgMy4wMTMtMS4wMzIgNC41Mi0xLjU0OGwxLjM0MSAxLjMyNS0uMzUxIDEuOTU3LTIuMDQzLS4xODYgMS45ODIgMi42NjItMi40NzcgMS44NTh2LTEuNjFsLTIuMjkuMTIzYy0uODY4LjY2LTEuNzM1IDEuMzIyLTIuNjAyIDEuOTgzbC0uMzcxIDMuMzQzLTMuMDk2LjQ5Ny0xLjA1MyAyLjQxNC40OTQuNDk2IDEuMTc4LS4zMSAxLjIzOC0xLjQyNSAyLjEwNi4zNzEgMS4xMTMgMS4yMzljMS41NjkuNjkxIDMuMTM5IDEuMzgyIDQuNzA3IDIuMDc0SDExLjA2OGwtMS42NzIgMS40NTUtLjMxIDIuNjYyIDEuNzk3IDIuODUgNC41ODIuODY3Ljk5IDIuNjYyLS4zNzEgMy4wOTYgMi4xMDUgMS42MSAzLjI4MS4zMUwyNSA0My4xNThsLjM3LTEuNjEuNTYtMi4wNDRjLjQ5NS0uNDk1Ljk4OC0uOTkxIDEuNDg0LTEuNDg2bC4xMjUtMS42Ny0yLjg1LTEuNjcyLTEuNDg0LTIuMTY4IDEuNTQ3LjQ5NiAyLjQxNiAyLjQxNCAyLjM1MS0xLjMuMTg2LTIuNjYzLTIuNDE0LS4zNzEuMTIzLTEuMzMyaDQuNjQ0bDEuNDI0IDIuMmMuNTc4LjMwOSAxLjE1Ny42MTcgMS43MzUuOTI3bC0uMjQ5LTMuMTI3aDEuMjM5bDEuMyAzLjQzNy40MDUtMS40MkExOCAxOCAwIDAwMzggMzBhMTggMTggMCAwMC0xOC0xOHpNMi45NTcgMzMuODA5bC0uNTE4LjA0M2ExOCAxOCAwIDAwMi42NzYgNi4yMzhjLjIxLS42MjguNDE4LTEuMjU2LjYyNy0xLjg4NXYtMi4yOUw1IDM0LjI0MmwtMi4wNDMtLjQzNHptMjUuNTI3IDEyLjA0OWwtNS40OTYgMS44ODlhMTggMTggMCAwMDUuNDk2LTEuODg5eiIgc3R5bGU9Imlzb2xhdGlvbjphdXRvO21peC1ibGVuZC1tb2RlOm5vcm1hbCIvPjwvc3ZnPg==",Ze="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCA0MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMzAuOTk5IDMxLjAwNXYtM2gtNi43NjJzLjgxMi0xMi4zOTcgMS4xNjItMTQgLjU5Ny0zLjM1IDIuNjI4LTMuMTAzIDEuOTcxIDMuMTAzIDEuOTcxIDMuMTAzbDQuODYyLS4wMTZzLS43ODMtMy45ODQtMi43ODMtNS45ODQtNy45NDYtMS43LTkuNjMzLjAzYy0xLjY4NyAxLjczLTIuMzAyIDUuMDY1LTIuNTk3IDYuNDIyLS41ODggNC41LS44NTQgOS4wMjctMS4yNDggMTMuNTQ3aC04LjZ2M0gxOC4xcy0uODEyIDEyLjM5OC0xLjE2MiAxNC0uNTk3IDMuMzUtMi42MjggMy4xMDMtMS45NzItMy4xMDItMS45NzItMy4xMDJsLTQuODYyLjAxNXMuNzgzIDMuOTg1IDIuNzgzIDUuOTg1YzIgMiA3Ljk0NiAxLjY5OSA5LjYzNC0uMDMxIDEuNjg3LTEuNzMgMi4zMDItNS4wNjUgMi41OTctNi40MjIuNTg3LTQuNS44NTQtOS4wMjcgMS4yNDgtMTMuNTQ3eiIvPjwvc3ZnPg==",We="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCA0MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTggNXYxMkg3djloMTV2LTdsNiAxMS02IDEydi04SDd2OWgxMXYxMmwxNC0yNXoiLz48L3N2Zz4=",He="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCA0MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNNS4wMDEgMjcuMDA2djZsMTAuMTItLjAxNCAzLjAyMyA3LjcyOCAyLjM1NyA2LjI4Nmg3LjV2OGw3LTEwLjUtNy0xMC41djhoLTRsLTMuMzU3LTguNDI5Yy0uNDc1LTEuMjY3LS45My0yLjQzNS0xLjI5NS0zLjYwMWw0LjUxLTExLjk3SDI4djhsNy0xMC41LTctMTAuNXY4aC03LjVMMTUuMDk4IDI3eiIvPjwvc3ZnPg==",Be="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCA0MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTIuNzg3IDI2LjQzMkw5LjUgMTguMDAzSDV2LTVoOGwyLjI4NiA2LjI4Nm01LjM1NyAxNC4yODZMMjQgNDIuMDAzaDR2LThsNyAxMC41LTcgMTAuNXYtOGgtNy41bC0yLjM1Ny02LjI4NiIvPjxwYXRoIGQ9Ik0xMy4wMDEgNDcuMDAzbDEwLjg1Ny0yOWg0LjE0M3Y4bDctMTAuNS03LTEwLjV2OGgtNy41bC0xMSAyOWgtNC41djV6Ii8+PC9zdmc+",DM=t=>{if(!t)return 0;let e=0;for(let M=0;M<t.length;M++){const n=t.charCodeAt(M);t.match(/[A-Z]/)?e+=1.5:n>=1&&n<=126||n>=65376&&n<=65439?e+=1:e+=1.8}return e};class IM extends c.RectNodeModel{initNodeData(e){super.initNodeData(e),this.width=100,this.height=30,this.radius=5,this.text.editable=!1,this.text.x=this.x+10,this.iconPosition=""}setAttributes(){if(this.text.value){let e=30+DM(this.text.value)*9;e=Math.ceil(e/20)*20,e<100&&(e=100),this.width=e}}getNodeStyle(){const e=super.getNodeStyle();return e.fill="#a6bbcf",this.isSelected?(e.strokeWidth=2,e.stroke="#ff7f0e"):(e.strokeWidth=1,e.stroke="#999"),e}getDefaultAnchor(){const{x:e,y:M,id:n,width:i}=this;return[{x:e+i/2,y:M,id:`${n}_right`,type:"right"},{x:e-i/2,y:M,id:`${n}_left`,type:"left"}]}getOutlineStyle(){const e=super.getOutlineStyle();return e.stroke="transparent",e.hover.stroke="transparent",e}}class xM extends c.RectNode{getAnchorShape(e){const{x:M,y:n}=e;return c.h("rect",{x:M-5,y:n-5,width:10,height:10,className:"custom-anchor"})}getIcon(){return null}getShape(){const{x:e,y:M,width:n,height:i,radius:o}=this.props.model,s=this.props.model.getNodeStyle();return c.h("g",{className:"lf-red-node"},[c.h("rect",{...s,x:e-n/2,y:M-i/2,width:n,height:i,rx:o,ry:o}),c.h("g",{style:"pointer-events: none;",transform:`translate(${e}, ${M})`},[c.h("rect",{x:-n/2,y:-i/2,width:30,height:30,fill:"#000",fillOpacity:.05,stroke:"none"}),this.getIcon(),c.h("path",{d:`M ${30-n/2} ${1-i/2} l 0 28`,stroke:"#000",strokeOpacity:.1,strokeWidth:1})])])}}const D={type:"red-node",model:IM,view:xM};class zM extends D.view{getIcon(){const{width:e,height:M}=this.props.model;return c.h("image",{width:30,height:30,x:-e/2,y:-M/2,href:$e})}}class pM extends D.model{getNodeStyle(){const e=super.getNodeStyle();return e.fill="rgb(230, 224, 248)",e}}const hM={type:"delay-node",text:"delay",icon:$e,model:pM,view:zM};class AM extends D.view{getIcon(){const{width:e,height:M}=this.props.model;return c.h("image",{width:30,height:30,x:-e/2,y:-M/2,href:Ge})}}class wM extends D.model{getNodeStyle(){const e=super.getNodeStyle();return e.fill="rgb(231, 231, 174)",e}}const OM={type:"fetch-node",text:"fecth",icon:Ge,model:wM,view:AM};class mM extends D.view{getIcon(){const{width:e,height:M}=this.props.model;return c.h("image",{width:30,height:30,x:-e/2,y:-M/2,href:Ze})}}class EM extends D.model{getNodeStyle(){const e=super.getNodeStyle();return e.fill="rgb(253, 208, 162)",e}}const SM={type:"function-node",text:"function",icon:Ze,model:EM,view:mM};class fM extends D.view{getIcon(){const{model:e,graphModel:M}=this.props,{width:n,height:i}=e;return c.h("image",{width:30,height:30,x:-n/2,y:-i/2,className:"node-red-start",href:We,onClick:()=>{M.eventCenter.emit("node-red:start")}})}}class CM extends D.model{getDefaultAnchor(){const{x:e,y:M,id:n,width:i}=this;return[{x:e+i/2,y:M,id:`${n}_right`,type:"right"}]}getNodeStyle(){const e=super.getNodeStyle();return e.fill="rgb(166, 187, 207)",e}}const vM={type:"start-node",text:"start",icon:We,model:CM,view:fM};class bM extends D.view{getIcon(){const{width:e,height:M}=this.props.model;return c.h("image",{width:30,height:30,x:-e/2,y:-M/2,href:Be})}}class YM extends D.model{getNodeStyle(){const e=super.getNodeStyle();return e.fill="rgb(226, 217, 110)",e}}const _M={type:"swap-node",text:"swap",icon:Be,model:YM,view:bM};class kM extends D.view{getIcon(){const{width:e,height:M}=this.props.model;return c.h("image",{width:30,height:30,x:-e/2,y:-M/2,href:He})}}class QM extends D.model{getNodeStyle(){const e=super.getNodeStyle();return e.fill="rgb(226, 217, 110)",e}}const UM={type:"switch-node",text:"switch",icon:He,model:QM,view:kM};const PM={name:"nodeRed",label:"NodeRed 模型",defaultEdgeType:le.type,topCategory:{id:"top",items:["start-node","function-node","switch-node","swap-node","fetch-node","delay-node"],subCategories:[]},elementTypes:[vM,SM,UM,_M,OM,hM,le],newData:{id:"nr001",text:"NodeRed 实例模型",properties:{},nodes:[{id:"node_1",type:"start-node",x:220,y:200,text:"start"},{id:"node_2",type:"fetch-node",x:420,y:200,text:"fetch data"},{id:"node_3",type:"function-node",x:620,y:200,text:"function"},{id:"node_4",type:"delay-node",x:420,y:300,text:"delay"},{id:"node_5",type:"switch-node",x:820,y:200,text:"switch"},{id:"node_6",type:"function-node",x:1020,y:200,text:"function"},{id:"node_7",type:"function-node",x:1020,y:300,text:"function"}],edges:[{type:"flow-link",sourceNodeId:"node_1",targetNodeId:"node_2"},{type:"flow-link",sourceNodeId:"node_2",targetNodeId:"node_3"},{type:"flow-link",sourceNodeId:"node_3",startPoint:{x:680,y:200},targetNodeId:"node_4"},{type:"flow-link",sourceNodeId:"node_4",startPoint:{x:370,y:300},targetNodeId:"node_2"},{type:"flow-link",sourceNodeId:"node_3",targetNodeId:"node_5"},{type:"flow-link",sourceNodeId:"node_5",targetNodeId:"node_6"},{type:"flow-link",sourceNodeId:"node_5",targetNodeId:"node_7"}]},init(t){t.on("node-red:start",()=>{console.log("我要开始执行流程了")}),t.on("vue-node:click",e=>{t.setProperties(e.id,{t:++e.val})})}},RM=[yM,PM],FM=et({__name:"CodeViewer",props:{visible:{type:Boolean},graphViewer:null},emits:["update:visible"],setup(t,{emit:e}){const M=t,n=M.graphViewer,o=n.modelType.adapters;q.registerLanguage("json",tt),q.registerLanguage("xml",Mt);const s=rt.component,r=O(""),u=O(o!=null&&o.default?"default":"json"),N=()=>{r.value=n.getData(u.value)};return C(()=>M.visible,(l,a)=>{l&&N()}),(l,a)=>{const j=ut,A=Nt,I=ct;return P(),ee(I,{visible:t.visible,footer:null,"destroy-on-close":"","wrap-class-name":"full-modal",style:{top:"20px",left:"20px",width:"calc(100% - 40px)"},"onUpdate:visible":a[1]||(a[1]=d=>e("update:visible",d))},{title:S(()=>[$(A,{value:u.value,"onUpdate:value":a[0]||(a[0]=d=>u.value=d),"button-style":"solid",onChange:N},{default:S(()=>[(P(!0),it(nt,null,ot(te(o),(d,w)=>(P(),ee(j,{key:w,value:w},{default:S(()=>[Me(st(d.label),1)]),_:2},1032,["value"]))),128)),$(j,{value:"json"},{default:S(()=>[Me(" JSON ")]),_:1})]),_:1},8,["value"])]),default:S(()=>[$(te(s),{autodetect:"",code:r.value},null,8,["code"])]),_:1},8,["visible"])}}});export{BM as T,FM as _,yM as e,RM as m,WM as y,HM as z};
